---
# Use the 'create api' subcommand to add watches to this file.
- version: v1alpha1
  group: m4e.krestomat.io
  kind: M4e
  blacklist:
    # issue seing other secrets as dependant resources and triggering reconciliation (at least in logs)
    - group: ""
      version: v1
      kind: Secret
    # issue seing other config maps as dependant resources and triggering reconciliation (at least in logs)
    - group: ""
      version: v1
      kind: ConfigMap
    # issue detecting cronjob update and triggering reconciliation
    - group: batch
      version: v1beta1
      kind: CronJob
    - group: batch
      version: v1
      kind: CronJob
  finalizer:
    name: m4e.krestomat.io/finalizer
    vars:
      cr_state: absent
  playbook: playbooks/m4e.yml

- version: v1alpha1
  group: m4e.krestomat.io
  kind: Routine
  watchDependentResources: false
  reconcilePeriod: 1m
  playbook: playbooks/routine.yml
  vars:
    cr_kind: Routine

#+kubebuilder:scaffold:watch
